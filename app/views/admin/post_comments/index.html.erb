<!--管理者側／全コメント一覧画面-->
<div class='container py-5'>
  <div class='row'>
    <div class="col-sm-12 col-md-12 col-lg-10 px-sm-0 mx-auto">

      <h4 class="text-center mx-auto mb-4">コメントリスト</h4>
      <table class="table table-hover">
        <thead class="table-active">
          <tr>
            <th>ID</th>
            <th></th>
            <th>ユーザー名</th>
            <th>コメント</th>
            <th>日付</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <% @comments.each do |comment| %>
            <tr>
              <td><%= comment.id %></td>
              <td><%= image_tag comment.user.get_profile_image(50,50), class: "rounded-circle" %></td>
              <td>
                <%= link_to admin_user_path(comment.user_id) do %>
                  <%= comment.user.name.truncate(10) %>
                <% end %>
              </td>
              <td class="text-break">
                <%= link_to admin_post_path(comment.post_id) do %>
                  <%= comment.comment.truncate(15) %>
                <% end %>
              </td>
              <td><%= I18n.l(comment.created_at, format: :short) %></td>
              <th>
                <%= link_to "削除する", admin_post_comment_path(comment), method: :delete, data: { confirm: "このコメントを削除しますか？" }, class: " btn btn-sm btn-danger" %>
              </th>
            </tr>
          <% end %>
        </tbody>
      </table>

    </div>
  </div>
</div>