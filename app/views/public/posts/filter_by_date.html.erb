<!--ユーザ側／投稿を日付指定で絞り込んだ結果画面-->
<div class='container py-5'>
  <div class='row'>
    <div class="col-sm-12 col-md-8 col-lg-9 px-5 px-sm-0 mx-auto">

      <!--プロフィール-->
      <%= render "public/users/profile", user: @user, posts: @posts %>
      
      <h4>
      <%= I18n.l(@start_date, format: :long) %> ～ <%= I18n.l(@end_date, format: :long) %> 【<%= @filtered_posts.count %>件】
      </h4>
      <table class="table table-bordered">
        <thead>
          <tr>
            <td>投稿した数</td>
            <td><%= @filtered_posts.count %></td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>断捨離した数</td>
            <td><%= @filtered_posts.pluck(:quantity).sum %></td>
          </tr>
        </tbody>
      </table>

      <h2 class="mb-4">
        <!--2099年12月17日(日)～2099年12月18日(月)【1件】のような形で表記-->
        <%= I18n.l(@start_date, format: :long) %> ～ <%= I18n.l(@end_date, format: :long) %> 【<%= @filtered_posts.count %>件】
      </h2>

      <!--投稿並び替え-->
      <div class="text-left px-3 pb-3 mb-4">
        <%= link_to '新しい順', filter_by_date_posts_path(latest: "true") %>
        | <%= link_to '古い順', filter_by_date_posts_path(old: "true") %>
        | <%= link_to 'お気に入りが多い順', filter_by_date_posts_path(most_favorites: "true") %>
      </div>

      <!--絞り込み結果-->
      <%= render "public/users/own_index", posts: @filtered_posts %>

    </div>
  </div>
</div>